# 网络安全


## 数据加解密
### 单向散列加密
所谓的单向散列加密是指对一串明文信息进行散
列（hash）加密，得到的密文信息是不可以被解密的，也就是说给定一个密文，即使是加
密者也无法知道它的明文是什么的，加密是单向的，不支持解密。

单向散列算法虽然无法通过对密文进行解密计算，还原得到原始明文。但是，如果知道
了算法，就可以通过彩虹表的方法进行破解。彩虹表是常用明文和密文的映射表

因此在实践中，使用单向散列算法加密，还需要在计算过程中加点“盐”salt，如果黑客不
知道加的“盐”是什么，就无法建立彩虹表，还原得到明文。

单向散列加密的主要应用场景就是应用到用户密码加密上。

### 对称加密
使用一个加密算法和一个密钥，对一段明文进行加密以后得到密
文，然后使用相同的密钥和对应的解密算法，对密文进行解密，就可以计算得到明文。

对称加密主要用于加密一些敏感信息，对密文进行信息传输和存储，但是在使用的时候，必须要
解密得到明文信息的一些场景。

### 非对称加密
所谓的非对称加密是指在加密的时候使用一个加密算法和
一个加密密钥进行加密，得到一个密文。在解密的时候，必须使用解密算法和解密密钥进行
解密才能够还原得到明文，加密密钥和解密密钥完全不同。通常加密密钥被称作公钥，解密
密钥被称作私钥。

非对称加密的典型应用场景，就是我们常见的 HTTPS。

由于非对称加密需要消耗的计算资源比较多，效率也比较差，HTTPS 并不是每次请求响应
都用非对称加密，而是先利用非对称加密，在客户端和服务器之间交换一个对称加密的密
钥，然后每次请求响应都用对称加密。这样，用非对称加密保证对称加密密钥的安全，再用
对称加密密钥保证请求响应数据的安全。

## Http攻击与防护
### SQL 注入攻击
SQL 注入攻击就是攻击者在提交的请求参数里面，包含有恶意的 SQL 脚本。

最有效的防攻击手段是 SQL 预编译。
### XSS攻击
XSS 攻击即跨站点脚本攻击，攻击者构造恶意的浏览器脚本文件，使其在其他用户的浏览
器上运行，进而进行攻击。

攻击者发送一个含有恶意脚本的请求给被攻击的服务器，比如通过发布微博的方式向微博的
服务器发送恶意请求，被攻击的服务器将恶意脚本存储到本地的数据库中，其他的正常用户
通过被攻击的服务器浏览信息的时候，服务器会读取数据库中含有恶意脚本的数据，并向其
展现给正常的用户，在正常用户的浏览器上执行，从而达到攻击的目的。

XSS 攻击防御的主要手段是**消毒**，检查用户提交的请求中是否含有可执行的脚本，因为大
部分的攻击请求都包含 JS 等脚本语法，所以可以通过 HTML 转义的方式，对比较有危险的
脚本语法关键字进行转义

由于 HTTP 攻击必须以 HTTP 请求的方式提交到服务器，因此可以在服务器的入口统一进
行拦截，对含有危险信息的请求，比如 drop table，JS 脚本等，进行消毒转义，或者直接
拒绝请求。即设置一个 Web 应用防火墙，将危险请求隔离。
